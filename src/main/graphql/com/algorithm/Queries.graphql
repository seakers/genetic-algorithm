query OrbitCount($problem_id: Int!){
    item: Join__Problem_Orbit_aggregate(where: {problem_id: {_eq: $problem_id}}) {
        aggregate {
            count
        }
    }
}


query InstrumentCount($problem_id: Int!){
    item: Join__Problem_Instrument_aggregate(where: {problem_id: {_eq: $problem_id}}) {
        aggregate {
            count
        }
    }
}


#query Orbit($problem_id: Int!){
#    items: Join__Orbit_Attribute(where: {problem_id: {_eq: $problem_id}}, distinct_on: [orbit_id]) {
#        id
#        Problem {
#            name
#        }
#        orbit: Orbit {
#            name
#        }
#    }
#}


query ArchitectureSubscription($problem_id: Int!, $dataset_id: Int!, $input: String!){
    items: Architecture_aggregate(where: {problem_id: {_eq: $problem_id}, dataset_id: {_eq: $dataset_id} input: {_eq: $input}})  {
        aggregate { count }
    }
}


query SingleArchitecture($problem_id: Int!, $dataset_id: Int!, $input: String!) {
    items: Architecture (where: {problem_id: {_eq: $problem_id}, dataset_id: {_eq: $dataset_id}, input: {_eq: $input}})  {
        id input science cost
    }
}


query Architecture($problem_id: Int!, $dataset_id: Int!) {
    items: Architecture(where: {problem_id: {_eq: $problem_id}, dataset_id: {_eq: $dataset_id}, eval_status: {_eq: true}}) {
        id
        input
        science
        cost
    }
}